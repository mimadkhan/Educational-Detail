<div class="col-12">
  <div class="card">
    <h5>Educational Record</h5>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="p-fluid p-formgrid grid">
        <div class="field col-12 md:col-6">
          <label htmlFor="state">Degree Type :</label>
          <p-dropdown
            id="educationType"
            placeholder="Select degree type"
            formControlName="educationType"
            optionLabel="label"
            optionValue="value"
            [showClear]="true"
            [options]="educationTypeOptions"
            (onChange)="onDropdownChange($event)"
          ></p-dropdown>
        </div>
        <div class="field col-12 md:col-6" *ngIf="selectedOption === 'olevel'">
          <label htmlFor="applyingfor">Applying For :</label>
          <p-dropdown
            id="managementType"
            placeholder="Select level type"
            formControlName="managementType"
            optionLabel="label"
            optionValue="value"
            [showClear]="true"
            [options]="managementTypeOptions"
            (onChange)="onLeveltypeChange($event)"
          ></p-dropdown>
        </div>
        <div
          class="field col-12 md:col-12"
          *ngIf="form.get('managementType').value === 'management'"
        >
          <div class="p-fluid p-formgrid grid p2">
            <div class="field col-12 md:col-9">
              <label htmlFor="subjectname">Subject Name :</label>
            </div>
            <div class="field col-12 md:col-3">
              <label htmlFor="subjectname">Subject Grade :</label>
            </div>
          </div>
          <div
            class="p-fluid p-formgrid grid p2"
            *ngFor="let subjectPair of subjectPairs; let i = index"
            [formGroup]="subjectPair"
          >
            <!-- <pre>{{ subjectPair.value | json }}</pre> -->

            <div class="field col-12 md:col-9">
              <!-- <label htmlFor="subjectname">Subject Name :</label> -->
              <p-dropdown
                placeholder="Select subject name"
                formControlName="subject"
                [filter]="true"
                optionLabel="title"
                optionValue="title"
                [options]="subjectOptions"
              ></p-dropdown>
              <!-- <label htmlFor="subjectname">Subject Name :</label>
              <p-dropdown
                id="subject"
                placeholder="Select subject name"
                formControlName="subject"
                [filter]="true"
                optionLabel="title"
                optionValue="title"
                [options]="subjectOptions"
              ></p-dropdown> -->
            </div>
            <div class="field col-12 md:col-3">
              <!-- <label htmlFor="grade">Subject Grade :</label> -->
              <p-dropdown
                placeholder="Select subject grade"
                formControlName="subjectGrade"
                optionLabel="label"
                optionValue="value"
                [options]="subjectGradeOptions"
              ></p-dropdown>
              <!-- <label htmlFor="grade">Subject Grade :</label>
              <p-dropdown
                id="grade"
                placeholder="Select subject grade"
                formControlName="subjectGrade"
                optionLabel="label"
                optionValue="value"
                [options]="subjectGradeOptions"
              ></p-dropdown> -->
            </div>
          </div>
        </div>
        <div
          class="field col-12 md:col-12"
          *ngIf="form.get('managementType').value === 'all'"
        >
          <div class="field col-12 md:col-6">
            <label htmlFor="applyingfrom">Applying From :</label>
            <p-dropdown
              placeholder="Select apply from"
              formControlName="applyFrom"
              optionLabel="label"
              optionValue="value"
              [options]="applyFromOptions"
              (onChange)="onApplyFromChange($event)"
            ></p-dropdown>
          </div>
          <div
            class="field col-12 md:col-12"
            *ngIf="selectedApplyFromOption === 'pak'"
          >
            <div class="p-fluid p-formgrid grid p2">
              <div class="field col-12 md:col-9">
                <label htmlFor="subjectname">Subject Name :</label>
              </div>
              <div class="field col-12 md:col-3">
                <label htmlFor="subjectname">Subject Grade :</label>
              </div>
            </div>
            <div
              class="p-fluid p-formgrid grid p2"
              *ngFor="let subjectPair of subjectPairs; let i = index"
              [formGroup]="subjectPair"
            >
              <div class="field col-12 md:col-9">
                <input
                  type="text"
                  pInputText
                  [ngStyle]="selectedApplyFromOption === 'pak' ? {'pointer-events': 'none'} : {'pointer-events': 'all'}"
                  placeholder="Select subject name"
                  formControlName="subject"
                />
              </div>
              <div class="field col-12 md:col-3">
                <p-dropdown
                  placeholder="Select subject grade"
                  formControlName="subjectGrade"
                  optionLabel="label"
                  optionValue="value"
                  [options]="subjectGradeOptions"
                ></p-dropdown>
              </div>
            </div>
          </div>
          <div
            class="field col-12 md:col-12"
            *ngIf="selectedApplyFromOption === 'overseas'|| selectedApplyFromOption === 'covid'"
          >
            <div class="p-fluid p-formgrid grid p2">
              <div class="field col-12 md:col-9">
                <label htmlFor="subjectname">Subject Name :</label>
              </div>
              <div class="field col-12 md:col-3">
                <label htmlFor="subjectname">Subject Grade :</label>
              </div>
            </div>
            <div
              class="p-fluid p-formgrid grid p2"
              *ngFor="let subjectPair of subjectPairs; let i = index"
              [formGroup]="subjectPair"
            >
              <div class="field col-12 md:col-9" *ngIf=" i < 5">
                <input
                  type="text"
                  pInputText
                  [ngStyle]="(selectedApplyFromOption === 'overseas'|| selectedApplyFromOption === 'covid') ? {'pointer-events': 'none'} : {'pointer-events': 'all'}"
                  placeholder="Select subject name"
                  formControlName="subject"
                />
              </div>
              <div class="field col-12 md:col-9" *ngIf=" i >= 5">
                <p-dropdown
                  placeholder="Select subject name"
                  formControlName="subject"
                  [filter]="true"
                  optionLabel="title"
                  optionValue="title"
                  [options]="subjectOptions"
                ></p-dropdown>
              </div>
              <div class="field col-12 md:col-3">
                <p-dropdown
                  placeholder="Select subject grade"
                  formControlName="subjectGrade"
                  optionLabel="label"
                  optionValue="value"
                  [options]="subjectGradeOptions"
                ></p-dropdown>
              </div>
            </div>
          </div>
        </div>
        <div class="field col-12 md:col-12">
          <div
            class="p-fluid p-formgrid grid p2"
            *ngIf="selectedOption === 'matric'"
          >
            <div class="field col-12 md:col-4">
              <label htmlFor="boardname">Board Name :</label>
              <p-dropdown
                id="boardNameType"
                placeholder="Select board name"
                formControlName="boardName"
                optionLabel="label"
                optionValue="value"
                [options]="boardNameOptions"
              ></p-dropdown>
            </div>
            <div class="field col-12 md:col-4">
              <label htmlFor="groupname">Group Name :</label>
              <p-dropdown
                id="groupNameType"
                placeholder="Select group type"
                formControlName="groupName"
                optionLabel="label"
                optionValue="value"
                [options]="groupNameOptions"
              ></p-dropdown>
            </div>
            <div class="field col-12 md:col-4">
              <label htmlFor="marks">Obtained Marks :</label>
              <p-inputNumber
                mode="decimal"
                placeholder="marks"
                [min]="0"
                [max]="10000"
                formControlName="obtainedMarks"
              >
              </p-inputNumber>
            </div>
            <div class="field col-12 md:col-4">
              <label htmlFor="total">Total Marks :</label>
              <p-inputNumber
                mode="decimal"
                placeholder="total"
                [min]="0"
                [max]="10000"
                formControlName="totalMarks"
              >
              </p-inputNumber>
            </div>
          </div>
        </div>
        <div class="field col-12 md:col-12">
          <div
            class="p-fluid p-formgrid grid p2"
            *ngIf="selectedOption === 'american'"
          >
            <div class="field col-12 md:col-4">
              <label htmlFor="address">Awarding Institution :</label>
              <input
                type="text"
                pInputText
                placeholder="institution"
                formControlName="awardingInstitution"
              />
            </div>
            <div class="field col-12 md:col-4">
              <label htmlFor="obtainedMarks"
                >Obtained Marks (Grd 9 + 10):</label
              >
              <p-inputNumber
                mode="decimal"
                [min]="0"
                [max]="10000"
                placeholder="obtainedMarks"
                formControlName="obtainedMarksGrd9And10"
              >
              </p-inputNumber>
            </div>
            <div class="field col-12 md:col-4">
              <label htmlFor="totalMarks">Total Marks (Grd 9 + 10):</label>
              <p-inputNumber
                mode="decimal"
                [min]="0"
                [max]="10000"
                placeholder="totalMarks"
                formControlName="totalMarksGrd9And10"
              >
              </p-inputNumber>
            </div>
          </div>
        </div>
      </div>
      <div class="field col-12 md:col-2 mt-4">
        <p-button type="submit" label="Submit"></p-button>
      </div>
    </form>
  </div>
</div>
